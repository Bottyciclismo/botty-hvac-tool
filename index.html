<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BOTTY TECH SUITE ‚Äì LAB PRO</title>

<style>

body{
background:linear-gradient(135deg,#0f1c2b,#1f3c55);
font-family:Segoe UI;
display:flex;
justify-content:center;
align-items:center;
min-height:100vh;
color:white;
margin:0;
}

.container{
background:linear-gradient(145deg,#3f4f5f,#2f3e4c);
padding:35px;
border-radius:28px;
width:95%;
max-width:650px;
box-shadow:
inset 0 0 30px rgba(0,0,0,0.6),
0 25px 60px rgba(0,0,0,0.8);
border:3px solid #5c6f80;
}

h2{
text-align:center;
color:#00e0ff;
margin-bottom:25px;
}

.menu{
display:flex;
gap:10px;
margin-bottom:20px;
}

.menu button{
flex:1;
padding:12px;
border:none;
border-radius:12px;
background:#142c3a;
color:#00eaff;
cursor:pointer;
font-weight:bold;
}

.menu button:hover{
background:#00eaff;
color:#00222b;
}

.module{ display:none; }
.module.active{ display:block; }

.display{
background:linear-gradient(180deg,#0a1f2e,#071923);
color:#00eaff;
font-size:32px;
padding:18px;
border-radius:14px;
text-align:right;
margin-bottom:20px;
font-weight:bold;
font-family:monospace;
box-shadow:
inset 0 0 20px #000,
0 0 20px rgba(0,234,255,0.25);
border:2px solid #12384a;
}

input,select{
width:100%;
padding:10px;
margin:8px 0;
border-radius:10px;
border:2px solid #1e3a4a;
background:#142c3a;
color:#e6f7ff;
}

button.calc{
width:100%;
padding:14px;
margin-top:15px;
border:none;
border-radius:12px;
background:linear-gradient(180deg,#00eaff,#00bcd4);
color:#00222b;
font-weight:bold;
cursor:pointer;
}

.result{
background:linear-gradient(180deg,#071923,#04121a);
padding:15px;
margin-top:15px;
border-radius:12px;
font-family:monospace;
border:2px solid #12384a;
}

.led-row{
display:flex;
align-items:center;
gap:10px;
margin:10px 0 15px 0;
}

.led{
width:16px;
height:16px;
border-radius:50%;
background:#222;
}

.led.blue{ background:#00eaff; box-shadow:0 0 10px #00eaff; }
.led.green{ background:#00ff9c; box-shadow:0 0 10px #00ff9c; }
.led.red{ background:#ff4d6d; box-shadow:0 0 10px #ff4d6d; }

</style>
</head>

<body>

<div class="container">

<h2>BOTTY TECH SUITE ‚öôÔ∏è LAB PRO</h2>

<div class="menu">
<button onclick="mostrar('sondas')">‚ùÑÔ∏è SONDAS</button>
<button onclick="mostrar('compresor')">üí® COMPRESOR</button>
<button onclick="mostrar('electrico')">‚ö° EL√âCTRICO</button>
</div>

<!-- ================= SONDAS ================= -->
<div id="sondas" class="module active">

<div class="display" id="display">0.00 ¬∞C</div>

<div class="bar-container">
  <div class="bar" id="bar"></div>
</div>

<canvas id="grafica"></canvas>

<label>Simulaci√≥n Temperatura (Modo Formaci√≥n)</label>
<input type="range" id="simTemp" min="-20" max="100" value="25" step="1">

<label>Tipo de Sonda</label>
<select id="tipo">
  <option value="NTC_1000">NTC 1K</option>
  <option value="NTC_10000">NTC 10K</option>
  <option value="NTC_25000">NTC 25K</option>
  <option value="PTC_1000">PTC 1K</option>
  <option value="PTC_10000">PTC 10K</option>
  <option value="PTC_25000">PTC 25K</option>
</select>

<label>Resistencia medida (Œ©)</label>
<input type="number" id="resistencia" placeholder="Ej: 589">

<label>Beta (solo NTC - default 3435)</label>
<input type="number" id="beta" value="3435">

<button class="calc" onclick="calcular()">MEDIR</button>

<hr style="margin:20px 0;border-color:#12384a;">

<label>Temperatura para calcular Resistencia (¬∞C)</label>
<input type="number" id="tempInversa">

<button class="calc" onclick="calcularInversa()">CALCULAR Œ©</button>

<div id="resultadoInverso" class="result"></div>
<div id="sugerencia" class="result"></div>

</div>


<!-- ================= COMPRESOR ================= -->
<div id="compresor" class="module">

<div class="display" id="displayComp">0 L/min</div>

<input type="number" id="volumen" placeholder="Volumen tanque (L)">
<input type="number" id="presion" placeholder="Presi√≥n final (bar)">
<input type="number" id="tiempo" placeholder="Tiempo (segundos)">

<button class="calc" onclick="calcularCompresor()">CALCULAR</button>

<div class="result" id="resultadoComp"></div>

</div>

<!-- ================= ELECTRICO ================= -->
<div id="electrico" class="module">

<div class="display" id="displayElec">0.0 A</div>

<input type="number" id="kw" placeholder="Potencia (kW)">
<input type="number" id="amps" placeholder="Intensidad placa (A)">
<input type="number" id="longitud" placeholder="Longitud l√≠nea (m)">

<select id="instalacion">
<option value="B1">B1 ‚Äì Empotrado</option>
<option value="B2">B2 ‚Äì Superficial</option>
<option value="C">C ‚Äì Bandeja</option>
<option value="D">D ‚Äì Enterrado</option>
</select>

<button class="calc" onclick="calcularElectrico()">CALCULAR</button>

<div class="led-row">
<div id="led" class="led"></div>
<div id="ledText">Esperando c√°lculo...</div>
</div>

<div class="result" id="resultadoElec"></div>

</div>

</div>

<script>

function mostrar(id){
document.querySelectorAll('.module').forEach(m=>m.classList.remove('active'));
document.getElementById(id).classList.add('active');
}

// ---------- SONDAS ----------
function calcularSonda(){
let R=parseFloat(document.getElementById("resistencia").value);
let beta=parseFloat(document.getElementById("beta").value);
let R0=parseFloat(document.getElementById("tipoSonda").value);
if(!R) return;

let T0=298.15;
let tempK=1/((1/T0)+(1/beta)*Math.log(R/R0));
let tempC=tempK-273.15;

document.getElementById("displaySonda").innerHTML=tempC.toFixed(2)+" ¬∞C";
document.getElementById("resultadoSonda").innerHTML=
"Temperatura estimada: "+tempC.toFixed(2)+" ¬∞C";
}

// ---------- COMPRESOR ----------
function calcularCompresor(){
let V=parseFloat(document.getElementById("volumen").value);
let P=parseFloat(document.getElementById("presion").value);
let t=parseFloat(document.getElementById("tiempo").value);
if(!V||!P||!t) return;

let tMin=t/60;
let caudal=(V*P)/tMin;
let m3h=(caudal/1000)*60;

document.getElementById("displayComp").innerHTML=caudal.toFixed(0)+" L/min";
document.getElementById("resultadoComp").innerHTML=
m3h.toFixed(1)+" m¬≥/h";
}

// ---------- ELECTRICO ----------
function calcularElectrico(){
let kw=parseFloat(document.getElementById("kw").value);
let amps=parseFloat(document.getElementById("amps").value);
let L=parseFloat(document.getElementById("longitud").value);
let instalacion=document.getElementById("instalacion").value;

if(!L) return;

let I=amps?amps:kw?kw*1000/(Math.sqrt(3)*400*0.85*0.9):0;
if(!I) return;

let R=0.00308; // aprox 6mm
let deltaV=Math.sqrt(3)*I*L*R;
let porcentaje=(deltaV/400)*100;

let led=document.getElementById("led");
let text=document.getElementById("ledText");
led.className="led";

if(porcentaje<3){
led.classList.add("blue");
text.innerHTML="üîµ Correcto (<3%)";
}
else if(porcentaje<=5){
led.classList.add("green");
text.innerHTML="üü¢ Aceptable (3-5%)";
}
else{
led.classList.add("red");
text.innerHTML="üî¥ Fuera de norma (>5%)";
}

document.getElementById("displayElec").innerHTML=I.toFixed(1)+" A";
document.getElementById("resultadoElec").innerHTML=
"Ca√≠da tensi√≥n: "+porcentaje.toFixed(2)+" %";
}

</script>

</body>
</html>

